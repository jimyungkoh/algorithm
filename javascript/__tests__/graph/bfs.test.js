const { bfs } = require("../../src/graph/bfs");

describe("bfs", () => {
  describe("bfs()", () => {
    test("그래프가 null이면 예외를 던진다", () => {
      expect(() => bfs(null, 0)).toThrow();
    });

    test("그래프가 비어 있으면 시작 정점이 없어 예외를 던진다", () => {
      expect(() => bfs([], 0)).toThrow();
    });

    test("시작 정점이 범위를 벗어나면 예외를 던진다", () => {
      expect(() => bfs([[1], []], 5)).toThrow();
    });

    test("정점이 하나인 그래프는 시작 정점만 방문한다", () => {
      expect(bfs([[]], 0)).toEqual([0]);
    });

    test("단일 경로를 레벨 순서로 순회한다", () => {
      expect(bfs([[1], [2], [3], []], 0)).toEqual([0, 1, 2, 3]);
    });

    test("균형 잡힌 그래프를 층별로 순회한다", () => {
      expect(bfs([[1, 2], [3], [3, 4], [4], []], 0)).toEqual([0, 1, 2, 3, 4]);
    });

    test("사이클이 있어도 중복 방문하지 않는다", () => {
      expect(bfs([[1, 2], [0, 2], [3], [1], []], 0)).toEqual([0, 1, 2, 3]);
    });

    test("도달 가능한 정점만 방문한다", () => {
      expect(bfs([[1], [0], [3], [2], []], 0)).toEqual([0, 1]);
    });

    test("중복 간선이 있어도 정점은 한 번만 방문한다", () => {
      expect(bfs([[1, 1, 2, 2], [2], [], [0]], 0)).toEqual([0, 1, 2]);
    });
  });
});
